<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.62.2" />
    <meta name="description" content="neptec">
<meta name="author" content="Pratik">

    <link rel="icon" href="/images/favicon1.png" type="image/png">

    <title>Chrony :: Documentation</title>

    
    <link href="/css/nucleus.css?1584878192" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1584878192" rel="stylesheet">
    <link href="/css/hybrid.css?1584878192" rel="stylesheet">
    <link href="/css/featherlight.min.css?1584878192" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1584878192" rel="stylesheet">
    <link href="/css/auto-complete.css?1584878192" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1584878192" rel="stylesheet">
    <link href="/css/theme.css?1584878192" rel="stylesheet">
    <link href="/css/hugo-theme.css?1584878192" rel="stylesheet">
    
      <link href="/css/theme-mine.css?1584878192" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1584878192"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="/chrony/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="/">
<img src="/images/f1soft.png" alt="f1soft" style="width:80px;height:80px;">
</a>


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1584878192"></script>
<script type="text/javascript" src="/js/auto-complete.js?1584878192"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/10.20.222.175\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1584878192"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/mailcleaner/" title="Mail Cleaner" class="dd-item 
        
        
        
        ">
      <a href="/mailcleaner/">
          Mail Cleaner
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/hardening/" title="System Hardening" class="dd-item 
        
        
        
        ">
      <a href="/hardening/">
          System Hardening
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/glassfish/" title="Glassfish" class="dd-item 
        
        
        
        ">
      <a href="/glassfish/">
          Glassfish
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/glassfish/tunning/" title="Glassfish Tunning" class="dd-item ">
        <a href="/glassfish/tunning/">
        Glassfish Tunning
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/chrony/" title="Chrony" class="dd-item 
        parent
        active
        
        ">
      <a href="/chrony/">
          Chrony
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/redis/" title="Redis" class="dd-item 
        
        
        
        ">
      <a href="/redis/">
          Redis
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/zimbra-tips-tricks/" title="Zimbra Tips &amp; Tricks" class="dd-item 
        
        
        
        ">
      <a href="/zimbra-tips-tricks/">
          Zimbra Tips &amp; Tricks
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/kaspersky/" title="Kaspersky" class="dd-item 
        
        
        
        ">
      <a href="/kaspersky/">
          Kaspersky
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/kaspersky/kaspersky_linux/" title="Kaspersky for linux" class="dd-item ">
        <a href="/kaspersky/kaspersky_linux/">
        Kaspersky for linux
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/snmp/" title="SNMP" class="dd-item 
        
        
        
        ">
      <a href="/snmp/">
          SNMP
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/spacewalk/" title="spacewalk client" class="dd-item 
        
        
        
        ">
      <a href="/spacewalk/">
          spacewalk client
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/freeipa/" title="freeipa client" class="dd-item 
        
        
        
        ">
      <a href="/freeipa/">
          freeipa client
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/system_resources/" title="System Resources" class="dd-item 
        
        
        
        ">
      <a href="/system_resources/">
          System Resources
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/system_resources/hard_disk/" title="Increase Hard Disk" class="dd-item 
        
        
        
        ">
      <a href="/system_resources/hard_disk/">
          Increase Hard Disk
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/firewall/" title="Firewalld" class="dd-item 
        
        
        
        ">
      <a href="/firewall/">
          Firewalld
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/firewall/firewall_keepalive/" title="Firewalld &amp; Keepalived" class="dd-item ">
        <a href="/firewall/firewall_keepalive/">
        Firewalld &amp; Keepalived
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/firewall/firewall_richrule/" title="Rich Rule" class="dd-item ">
        <a href="/firewall/firewall_richrule/">
        Rich Rule
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Home</a> > Chrony
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#ntp">NTP</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Chrony
            </h1>
          

        




	<h3 id="ntp">NTP</h3>
<p>NTP is an internet protocol thatâ€™s used to synchronise the clocks on computer networks to within a few milliseconds of universal coordinated time (UTC).</p>
<p>Chronyd is a daemon for synchronisation of the system clock. It can synchronise the clock with NTP servers, reference clocks and manual input using wristwatch and keyboard via chronyc. It can also operate as an NTPv4 server andpeer to provide a time service to other computers in the network.</p>
<p>Install chrony package</p>
<pre><code>yum install chrony -y
</code></pre>
<p>Edit the confiugration file /etc/chrony.conf and add NTP server 10.13.222.1</p>
<pre><code>vi /etc/chrony.conf
</code></pre>
<p>Comment the following line</p>
<pre><code>#server 0.centos.pool.ntp.org iburst
#server 1.centos.pool.ntp.org iburst
#server 2.centos.pool.ntp.org iburst
#server 3.centos.pool.ntp.org iburst
</code></pre>
<p>Add following server host(for Nepal)  or your own NTP, if you have;</p>
<pre><code>server 0.asia.pool.ntp.org iburst
server 1.asia.pool.ntp.org iburst
server 2.asia.pool.ntp.org iburst
server 3.asia.pool.ntp.org iburst
</code></pre>
<blockquote>
<p>The <strong>iburst</strong> server option is useful to speed up the initial synchronization. If an NTP server is unresponsive, the IBURST mode continues to send frequent queries until the server responds and time synchronization starts. <strong>BURST</strong> sends a burst of eight packets when the server is reachable. IBURST sends a burst of eight packets when the server is unreachable (tries to find out if a host is reachable), and then shorten the time until the first sync.</p>
</blockquote>
<p>Start chronyd service</p>
<pre><code>systemctl start chronyd.service
</code></pre>
<p>Enable the service</p>
<pre><code>systemctl enable chronyd.service
</code></pre>
<p>Verify the source of NTP server</p>
<pre><code>chronyc sources

210 Number of sources = 4
MS Name/IP address         Stratum Poll Reach LastRx Last sample
===============================================================================
^- time.iqnet.com                2   6    35    36    -17ms[  -17ms] +/-  139ms
^+ undefined.hostname.local&gt;     2   6    17    38    -18ms[  -24ms] +/-  161ms
^* ntp.gnc.am                    2   6    17    37    +52ms[  +46ms] +/-  196ms
^+ x.ns.gin.ntt.net              2   6    17    38    -24ms[  -30ms] +/-  147ms
</code></pre>
<p>Verify using chronyc tracking for various time parameter</p>
<pre><code>chronyc tracking

Reference ID    : 81FA23FA (x.ns.gin.ntt.net)
Stratum         : 3
Ref time (UTC)  : Mon Dec 09 05:32:41 2019
System time     : 0.010854832 seconds fast of NTP time
Last offset     : +0.013905714 seconds
RMS offset      : 0.023641668 seconds
Frequency       : 44.182 ppm slow
Residual freq   : -0.804 ppm
Skew            : 79.175 ppm
Root delay      : 0.289628744 seconds
Root dispersion : 0.007535583 seconds
Update interval : 64.5 seconds
Leap status     : Normal
</code></pre>
<p>See if NTP is enabled. Also verify if it is synchronized or not. It will take some time.</p>
<pre><code>timedatectl

Local time: Mon 2019-12-09 11:19:56 +0545
Universal time: Mon 2019-12-09 05:34:56 UTC
RTC time: Mon 2019-12-09 05:34:56
Time zone: Asia/Kathmandu (+0545, +0545)
NTP enabled: yes
NTP synchronized: yes
RTC in local TZ: no
DST active: n/a
</code></pre>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1584878192"></script>
    <script src="/js/perfect-scrollbar.min.js?1584878192"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1584878192"></script>
    <script src="/js/jquery.sticky.js?1584878192"></script>
    <script src="/js/featherlight.min.js?1584878192"></script>
    <script src="/js/highlight.pack.js?1584878192"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1584878192"></script>
    <script src="/js/learn.js?1584878192"></script>
    <script src="/js/hugo-learn.js?1584878192"></script>

    <link href="/mermaid/mermaid.css?1584878192" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1584878192"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
